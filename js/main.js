$(function(){function t(t){t.each(function(){var t=$(this).closest(".text-input");$(this).val()||t.addClass("error")})}var a=$("[data-callback-show]"),i=$("[data-callback-form]");a.click(function(){$(this).closest("[data-callback-state]").attr("data-callback-state","form")}),i.on("submit",function(a){var i=$(this);if(a.preventDefault(),t(i.find("input[type=tel]")),!i.find(".text-input.error").length){var e={url:"index.php",type:i.attr("method"),data:i.serialize()};i.find("button[type=submit]").prop("disabled",!0),i.find(".text-input").addClass("disabled"),$.ajax(e).done(function(){i.find("button[type=submit]").prop("disabled",!1).addClass("success").text("Отправлено!")})}})});